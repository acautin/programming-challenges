use std::io;macro_rules!p{($x:expr,$t:ident)=>($x.trim().parse::<$t>().unwrap())}fn r()->Vec<String>{let mut i=String::new();io::stdin().read_line(&mut i).unwrap();i.split(" ").map(|s|s.to_string()).collect()}fn main() {let mut t=r();let x=p!(t[3],i32);let q=p!(t[4],i32);let mut e=p!(t[7],i32);let mut y=[0;100];for i in 0..e{t=r();y[p!(t[0],usize)]=p!(t[1],i32);}e=0;loop{t=r();let u=p!(t[0],i32);let o=p!(t[1],i32);let d=t[2].trim().to_string();let mut cmd="WAIT";if u==e{let a=if x==u{q}else{y[u as usize]};if d=="RIGHT"&&o>a||d=="LEFT"&&o<a{cmd="BLOCK";}e+=1;}println!("{}",cmd);}}
